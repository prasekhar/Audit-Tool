<link rel="stylesheet" href="../../assets/css/chosen.min.css" />
<!-- Main section starts -->
    <section id='page-content' ng-controller="taskController">
       <!-- Page title starts  -->
            <div class='page-title'>
                <h1>Tasks</h1>
            </div>
       <!-- Page title ends -->

        <!-- Page data section starts -->
            <div class="table-grid clearfix">
                <!-- Sub heading starts -->
                    <div class="project-search clearfix">
                        <div class="protitle clearfix">
                            <h2>Create</h2>
                        </div>
                        <div class="project-button pull-right">
                            <button type="button" class="btn btn-primary pull-right" id="success" data-toggle="modal" data-target="#myModal">Add New Task</button>
                        </div>
                    </div>
                <!-- Sub heading ends -->

                <!-- Data grid starts -->
                    <div class="data-table">
                        <table class="table table-striped table-bordered " >
                            <thead>
                                <tr ng-disabled="true">
                                    <th>Task ID</th>
                                    <th>Task Name</th>
                                    <th>Section Name</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr dir-paginate="task in tasklist |itemsPerPage:5" g-disabled="true">
                                    <td>{{$index+1}}</td>
                                    <td>{{task.task_name}}</td>
                                    <td>{{task.section_name}}</td>
                                    <td>
                                        <button type="button" class="btn btn-sm edit modify" data-toggle="modal" data-target="#editTaskModal" ng-click=editTask(task._id)>Edit</button>
                                        <button type="button" class="btn btn-sm delete modify"  data-toggle="modal" data-target="#deleteTask" ng-click="getData(task)">Delete</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                <!-- Data grid ends -->

                    <!-- Pagination Start -->
                    <dir-pagination-controls
                      max-size="5"
                      direction-links="true"
                      boundary-links="true" >
                    </dir-pagination-controls>
                   <!-- Pagination end -->
           
            </div>
        <!-- Page section data ends -->

       <!-- Create task popup starts -->
            <div class="modal fade addtasks" id="myModal" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                        <div class="modal-content">
                            <div class="header-part">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">New Task</h4>
                                </div>
                            </div>
                            <div class="modal-body clear-fix">
                                <div class="add-task">
                                    <p class="pull-left" >Name</p>
                                    <input type="text" class="" id="textbox" required ng-model="addtask.tname">
                                </div>
                                <div class="add-task">
                                    <p class="pull-left">Section</p>
                                    <select data-placeholder="Select section" class="span addtask-section" style="width:266px;" ng-model="addtask.section">
                                        <option ng-repeat="sectionName in sectionslist">{{sectionName.name}}</option>
                                    </select>
                                </div>
                                <div class="modal-footer task-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal" id="create-sel" ng-click="addTask(addtask)">Create Task</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" id="cancel-sel">Cancel</button>
                                </div>
                            </div>
                        </div>
                    <!-- Modal content ends -->
                </div>
            </div>
       <!-- Create task popup ends -->

        <!-- Edit task pop up starts -->
            <div class="modal fade edittasks" id="editTaskModal" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                            <div class="modal-content">
                                <div class="header-part">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Edit Task</h4>
                                    </div>
                                </div>
                                <div class="modal-body clear-fix">
                                    <form class="form-horizontal">
                                    <div class="form-group">
                                        <label class="col-md-2  col-sm-2 control-label" >Name</label>
                                        <div class="col-sm-4">
                                           <input type="text" class="" id="textbox" required ng-model="edittask.task_name">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-2  col-sm-2 control-label section-id">Section</label>
                                        <div class="col-sm-4">
                                          <select data-placeholder="Select section" class="span edit-section" style="width:266px;" ng-model="edittask.section_name">
                                        <option ng-repeat="sectionName in sectionslist">{{sectionName.name}}</option>
                                    </select>  
                                        </div>             
                                    </div>
                                </form>
                                    <div class="modal-footer task-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal" id="create-sel" ng-click="updatetask(edittask)">Update Task</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal" id="cancel-sel">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        <!-- Modal content ends -->
                    </div>
            </div>
        <!-- Edit task ends popup ends-->

            <!-- pop-up  for Delete Technology-->
        <div class="modal fade" id="deleteTask" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="header-part">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Delete Task</h4>
                        </div>
                    </div>
                    <div class="modal-body clear-fix">
                        <p class="pull-left">Do You really Want to Delete..!</p>
                    </div>
                        <div class="modal-footer">
                           <button type="button" class="btn btn-default" data-dismiss="modal" id="create-sel" ng-click="deleteTask(delId)">Yes</button>
                          <button type="button" class="btn btn-default" data-dismiss="modal" id="cancel-sel">No, Go Back</button> 
                        </div>
                    </div>
            </div>
        </div>
    <!-- pop-up  for Delete Technology ends-->   
    </section>
<!-- Main section ends -->